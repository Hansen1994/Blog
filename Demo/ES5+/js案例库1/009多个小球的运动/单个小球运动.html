<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="Author" content="Fly">
    <title>Title</title>
    <style>
        *{ margin: 0; padding: 0; font-family:Microsoft yahei,serif;}
        li{ list-style:none;}
        .ball{
            position: absolute;
            top: 0;
            left: 0;
            width: 100px;
            height: 100px;
            background: pink;
            border-radius: 100%;
        }
    </style>
</head>
<body>
    <div class="ball"></div>
    <script>
        /*
        offsetLeft
        offsetTop
            只读属性
         */
        var oBall = document.querySelector(".ball");
        var leftVal = 5,topVal = 5; //left和top方向各自的变化量
        var maxW = document.documentElement.clientWidth - oBall.clientWidth, //最大宽
            maxH = document.documentElement.clientHeight - oBall.clientHeight; //最大高

        //浏览器窗口发小发生改变的时候，重新计算最大宽和最大高
        window.onresize = function () {
            maxW = document.documentElement.clientWidth - oBall.clientWidth; //最大宽
            maxH = document.documentElement.clientHeight - oBall.clientHeight; //最大高
        };
        play();
        function play() {
            var sLeft = oBall.offsetLeft, //当前的left值
                sTop = oBall.offsetTop, //当前的top值
                left = sLeft + leftVal,
                top = sTop + topVal;

            if ( left > maxW || left < 0 ){
                left = Math.min(left , maxW);
                left = Math.max(left , 0);
                leftVal = -leftVal;
            }
            if ( top > maxH || top < 0 ){
                top = Math.min( top , maxH );
                top = Math.max( top , 0 );
                topVal = -topVal;
            }
            oBall.style.left = left + 'px';
            oBall.style.top = top + 'px';
            requestAnimationFrame(play);
        }

        //            //检测水平方向 是否碰撞右边边界
        //            if ( left > maxW ){
        //                left = maxW;
        //                leftVal = -leftVal;
        //            }
        //            //检测水平方向 是否碰撞左边边界
        //            if ( left < 0 ){
        //                left = 0;
        //                leftVal = -leftVal;
        //            }
        //
        //            //检测垂直方向 是否碰撞上边边界
        //            if ( top > maxH ){
        //                top = maxH;
        //                topVal = -topVal;
        //            }
        //            //检测垂直方向 是否碰撞下边边界
        //            if ( top < 0 ){
        //                top = 0;
        //                topVal = -topVal;
        //            }

    </script>
</body>
</html>










































