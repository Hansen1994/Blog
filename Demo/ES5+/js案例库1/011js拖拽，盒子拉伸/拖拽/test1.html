<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="Author" content="Fly">
    <title>Title</title>
    <style>
        *{ margin: 0; padding: 0; font-family:Microsoft yahei,serif;}
        li{ list-style:none;}
    </style>
</head>
<body>
<div id="box1" style="width:300px; height:300px; position: absolute; left:0px;top: 50px; border:1px solid red; z-index:44;">

        <img id = "box" src="http://www.2ky.cn/templets/images/toplogo.gif" style="cursor:pointer;">

</div>



<script type="text/javascript">
    var oDiv = document.getElementById("box");
    oDiv.onmousedown=function(e)
    {
        var e = e || e.event;
        var disX = e.clientX;
        var disY = e.clientY;
        var leftDown = this.offsetLeft;
        var topDown = this.offsetTop;
        console.log(1);
//      alert(oDiv.offsetLeft);
        document.onmousemove=function (e)
        {
            var e = e || e.event;

            var dis1 = e.clientX;
            var dis2 = e.clientY;

            oDiv.style.left = leftDown + (dis1 - disX) + "px";
            oDiv.style.top = topDown + (dis2 - disY)+ "px";

            console.log(2);
        }
        document.onmouseup=function()
        {
            e.preventDefault();
            this.onmousemove=null;
            this.onmouseup=null;
            console.log(3);
        }


    }


</script>

</body>
</html>