<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="Author" content="Fly">
    <title>Title</title>
    <style>
        *{ margin: 0; padding: 0; font-family:Microsoft yahei,serif;}
        li{ list-style:none;}
        #box{
            width:540px;
            height:700px;
            background: #518dbb;
            margin:20px auto;
            padding:20px;
            position: relative;
            overflow: hidden;

        }
        #content{
            position: absolute;
            top:0;
            left: 0;
            padding:20px;
        }
        #scroll{
            width:20px;
            height:740px;
            background: radial-gradient(#c0c0c0,#8cc1de);
            position: absolute;
            top:0px;
            right:0px;
            cursor: pointer;
            z-index:1;
        }
        #bar{
            width:19px;
            height: 100px;
            background: #000;
            position: absolute;
            top:0;
            left: 1px;
        }
    </style>
</head>
<body>
    <div id="box">
        <div id="scroll">
            <div id="bar"></div>
        </div>
        <div id="content">
            <h2>阿甘正传</h2>
            <br/>
            <p class="pbold">1、Life was like a box of chocolates, you never know what you're going to get.</p>
            　　<p>生命就像一盒巧克力，结果往往出人意料。</p>
            　　<p class="pbold">2、Stupid is as stupid does.</p>
            　　<p>蠢人做蠢事，也可理解为傻人有傻福。</p>
            　　<p class="pbold">3、Miracles happen every day.</p>
            　　<p>奇迹每天都在发生。</p>
            　　<p class="pbold">4、it made me look like a duck in water.</p>
            　　<p>它让我如鱼得水。</p>
            　　<p class="pbold">5、I don't know if we each have a destiny, or if we're all just floating around accidental—like on a breeze.</p>
            　　<p>我不懂我们是否有着各自的命运，还是只是到处随风飘荡。</p>
            　　<p class="pbold">6、Death is just a part of life, something we're all destined to do.</p>
            　　<p>死亡是生命的一部分，是我们注定要做的一件事。</p>
            　　<p class="pbold">7、You have got to put the past behind you before you can move on.</p>
            　　<p>放下包袱，继续前进。</p>
            　　<p class="pbold">8、It was like just before the sun goes to bed down on the bayou. There was a million sparkles on the river.</p>
            　　<p>就像太阳在落山前映射在河口上，有无数的亮点在闪闪发光。</p>
            　　<p class="pbold">9、If there is anything you need, I will not be far away.</p>
            　　<p>只要你需要，我就在这里。</p>
            　　<p class="pbold">10、I am a man of my word.</p>
            　　<p>我是信守承诺的人。</p>
            　　<p class="pbold">11、There is one small step for a man,a giant leap for mankind.</p>
            　　<p>某人的一小步就是人类的一大步。</p>
            <p class="pbold">1、Life was like a box of chocolates, you never know what you're going to get.</p>
            　　<p>生命就像一盒巧克力，结果往往出人意料。</p>
            　　<p class="pbold">2、Stupid is as stupid does.</p>
            　　<p>蠢人做蠢事，也可理解为傻人有傻福。</p>
            　　<p class="pbold">3、Miracles happen every day.</p>
            　　<p>奇迹每天都在发生。</p>
            　　<p class="pbold">4、it made me look like a duck in water.</p>
            　　<p>它让我如鱼得水。</p>
            　　<p class="pbold">5、I don't know if we each have a destiny, or if we're all just floating around accidental—like on a breeze.</p>
            　　<p>我不懂我们是否有着各自的命运，还是只是到处随风飘荡。</p>
            　　<p class="pbold">6、Death is just a part of life, something we're all destined to do.</p>
            　　<p>死亡是生命的一部分，是我们注定要做的一件事。</p>
            　　<p class="pbold">7、You have got to put the past behind you before you can move on.</p>
            　　<p>放下包袱，继续前进。</p>
            　　<p class="pbold">8、It was like just before the sun goes to bed down on the bayou. There was a million sparkles on the river.</p>
            　　<p>就像太阳在落山前映射在河口上，有无数的亮点在闪闪发光。</p>
            　　<p class="pbold">9、If there is anything you need, I will not be far away.</p>
            　　<p>只要你需要，我就在这里。</p>
            　　<p class="pbold">10、I am a man of my word.</p>
            　　<p>我是信守承诺的人。</p>
            　　<p class="pbold">11、There is one small step for a man,a giant leap for mankind.</p>
            　　<p>某人的一小步就是人类的一大步。</p>
            <p class="pbold">1、Life was like a box of chocolates, you never know what you're going to get.</p>
            　　<p>生命就像一盒巧克力，结果往往出人意料。</p>
            　　<p class="pbold">2、Stupid is as stupid does.</p>
            　　<p>蠢人做蠢事，也可理解为傻人有傻福。</p>
            　　<p class="pbold">3、Miracles happen every day.</p>
            　　<p>奇迹每天都在发生。</p>
            　　<p class="pbold">4、it made me look like a duck in water.</p>
            　　<p>它让我如鱼得水。</p>
            　　<p class="pbold">5、I don't know if we each have a destiny, or if we're all just floating around accidental—like on a breeze.</p>
            　　<p>我不懂我们是否有着各自的命运，还是只是到处随风飘荡。</p>
            　　<p class="pbold">6、Death is just a part of life, something we're all destined to do.</p>
            　　<p>死亡是生命的一部分，是我们注定要做的一件事。</p>
            　　<p class="pbold">7、You have got to put the past behind you before you can move on.</p>
            　　<p>放下包袱，继续前进。</p>
            　　<p class="pbold">8、It was like just before the sun goes to bed down on the bayou. There was a million sparkles on the river.</p>
            　　<p>就像太阳在落山前映射在河口上，有无数的亮点在闪闪发光。</p>
            　　<p class="pbold">9、If there is anything you need, I will not be far away.</p>
            　　<p>只要你需要，我就在这里。</p>
            　　<p class="pbold">10、I am a man of my word.</p>
            　　<p>我是信守承诺的人。</p>
            　　<p class="pbold">11、There is one small step for a man,a giant leap for mankind.</p>
            　　<p>某人的一小步就是人类的一大步。</p>

        </div>

    </div>
    <script>
        (function () {
            var oBox = document.getElementById("box"),
                oScroll = document.getElementById("scroll"),
                oBar = document.getElementById("bar"),
                oCon = document.getElementById("content");

            var barMin = 0,
                barMax = oBox.clientHeight - oBar.clientHeight,
                conMin = 0,
                conMax = oBox.scrollHeight - oBox.clientHeight;
            document.onselectstart = function(){ return false };


            //多个事件的添加与解绑

            addEvent(oBar,"mousedown",down);
             function down(e) {
                e = e || window.event;
                var Dbar = e.clientY,
                    Dtop = this.offsetTop;

                 addEvent(document,"mousemove",move);
                 function move(e) {
                     e = e || window.event;
                     var Mbar = e.clientY,
                         DM = Dtop + (Mbar - Dbar);
                     DM = Math.max(DM , barMin);
                     DM = Math.min(DM , barMax);
                     oBar.style.top = DM + 'px';

                     //下面是通过比例值与内容的滑动比例对应
                     var prop = DM / barMax;
                     //滑块向下移动对应负值
                     var conDM = -prop * conMax;
                     oCon.style.top = conDM + 'px';
                 }

                 addEvent(document,"mouseup",up);
                 function up() {
                     removeEvent(this , "mousemove" , move);
                     removeEvent(this , "mouseup" , up);
                 }

            }

            //给box添加滚轮事件
            addEvent(oBox , "mousewheel" , function(e , d){
                var t = d*20; //往回拉 50，往前推 -50
                var top = oCon.offsetTop - t;
                top = Math.max( -conMax , top );
                top = Math.min( 0 , top );
                oCon.style.top = top + 'px';
                oBar.style.top = (-top/conMax)*barMax + 'px';

                //在addEventListener的时候，我们需要使用这个方法来禁止另一个浏览器的默认事件的发生，而这个浏览器发生；
                e.preventDefault();
            });


        })();



        //添加事件
        function addEvent( obj , eName , eFn ) {
            obj.attachEvent?obj.attachEvent( "on"+eName , eFn ):obj.addEventListener(eName , eFn , false);
        }

        //移出事件
        function removeEvent( obj , eName , eFn ) {
            obj.attachEvent?obj.detachEvent( "on"+eName , eFn ):obj.removeEventListener(eName , eFn , false);
        }

        //滚轮事件
        function addEvent( obj , eName , eFn ) {
            if(eName === "mousewheel"){
                obj.attachEvent?obj.attachEvent( "onmousewheel" , Fn ):obj.addEventListener("mousewheel" , Fn , false);
                document.addEventListener && obj.addEventListener("DOMMouseScroll" , Fn);
                function Fn(e) {
                    e = e || window.event;
                    var d = -e.wheelDelta/120 || e.detail/3;
                    eFn.call(this,e,d);
                }
            }else{
                if ( obj.attachEvent ){
                    obj.attachEvent( "on"+eName , eFn );//兼容IE8及以下
                }else{
                    obj.addEventListener(eName , eFn , false); //兼容标准浏览器
                }
            }
        }
    </script>
</body>
</html>