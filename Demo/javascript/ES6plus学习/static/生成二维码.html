<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>生成二维码</title>
  <script type="text/javascript" src="http://static.runoob.com/assets/qrcode/qrcode.min.js"></script>
</head>
<body>
<input id="text" type="text" value="http://www.runoob.com" style="width:80%" /><br />
<div id="qrcode" style="width:100px; height:100px; margin-top:15px;"></div>

<script>
var oQrcode = document.getElementById('qrcode')
var oText = document.getElementById('text')
var qrcode = new QRCode(oQrcode, {
  render: 'canvas',
  width: 300,
  height: 300,
  text: oText.value,
})

function makeCode () {
  if(!oText.value){
    alert('请输入文本')
    oText.focus()
    return false
  }
  qrcode.makeCode(oText.value)
}
makeCode()

oText.onblur = function(){
  makeCode()
}
oText.onkeydown = function(event){
  if(event.keyCode === 13){
    makeCode()
  }
}
</script>
</body>
</html>