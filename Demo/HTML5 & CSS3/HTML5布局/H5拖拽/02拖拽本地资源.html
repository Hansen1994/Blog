<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>拖拽本地资源</title>

</head>
<body>
    <div id="target" style="width:500px;height:500px;background:#ccc;"></div>
    <div id="info"></div>

    <script>
    window.onload = function(){
        var imcontainer = document.getElementById('target');

        imcontainer.ondragover = function(e){
        // 进入目标、离开目标之间，连续触发
            var e = e || window.event;
            e.preventDefault();//默认浏览器阻止事件
        }
        imcontainer.ondrop = function(e){
        // 在目标元素上释放鼠标触发
            var e = e || window.event;
            e.preventDefault();
            // showObj(e.dataTransfer.files);
            var f = e.dataTransfer.files[0];//获取文件第0个元素
            // console.log(f);
            var fileRead = new FileReader();
            //因为FileReader是个对象，所以要创建对象实例
            fileRead.onload = function(e){
                // showObj(e.target);//创建完成后target才可以使用
                imcontainer.innerHTML = "<img src=\"" + fileRead.result + "\">";
                // result为base64加密过的图片
            }
            fileRead.readAsDataURL(f);
            //readAsDataURL方法可以将读取到的文件编码成Data URL
        }
    }

    // 用于查看对象有哪些属性
    function showObj(obj){
        var s = "";
        for(var k in obj){
            s += k + ":" + obj[k] + "<br>";
        }
        info.innerHTML = s;
    }
    </script>
</body>
</html>